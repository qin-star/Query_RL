# 测试脚本

## test_think_tag.py

测试<think>标记的添加和解析是否正确。

### 使用方法

```bash
python test_think_tag.py
```

### 测试内容

1. ✅ 验证<think>标记是否正确添加
2. ✅ 验证JSON格式是否正确
3. ✅ 验证解析逻辑是否正常
4. ✅ 展示完整的messages结构
5. ✅ 测试边缘情况处理

### 预期输出

```
================================================================================
测试 <think> 标记添加
================================================================================

【生成的Assistant Content】
--------------------------------------------------------------------------------
<think>

</think>

{
  "user_profile": "...",
  "history_summary": "...",
  "rewritten_query": "..."
}

【格式验证】
--------------------------------------------------------------------------------
✅ <think>标记位置正确
✅ JSON格式正确
✅ 所有字段完整
✅ 内容正确

================================================================================
✅ 所有测试通过！
================================================================================
```
